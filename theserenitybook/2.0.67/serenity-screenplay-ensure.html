<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screenplay Assertions :: The Serenity BDD Book</title>
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">The Serenity BDD Book</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <a class="navbar-item" href="https://github.com/serenity-bdd/serenity-core/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/serenity-bdd/serenity-core">Source Code on Github</a>
        <a class="navbar-item" href="https://serenitydojo.teachable.com/p/the-programme">Online Tutorials</a>
        <a class="navbar-item" href="https://serenitydojo.teachable.com/p/the-programme">Get Certified in Serenity BDD</a>
        <a class="navbar-item" href="https://johnfergusonsmart.com/serenity-bdd-mentoring/">Serenity Support</a>

        <!-- <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div> -->
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="theserenitybook" data-version="2.0.67">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">The Serenity Book</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Serenity BDD Fundamentals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Introduction to Serenity BDD</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="first-steps.html">First Steps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="step-libraries.html">Working with Step Libraries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Testing Web Applications</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="web-testing-in-serenity.html">Testing Web Applications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="page-objects.html">Working with Page Objects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="angularjs.html">Testing AngularJS applications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="remote.html">Running Remote Tests</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extending-webdriver.html">Extending Webdriver setup and teardown</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="environment-specific-config.html">Environment-specific configurations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Serenity with JUnit</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="junit-basic.html">Basic JUnit Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="junit.html">JUnit WebDriver Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="junit-skipping.html">Skipping Tests</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="junit-data-driven.html">Data Driven Tests</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="junit-requirements.html">Modelling JUnit Requirements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Serenity with Cucumber</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cucumber.html">Getting Started with Cucumber and Serenity</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cucumber-before-and-after.html">Setting up and tearing down test data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Serenity with JBehave</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="jbehave.html">Working with JBehave</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Working with REST APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="serenity-rest.html">REST API Testing in Serenity</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Serenity and the Screenplay Pattern</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="serenity-screenplay.html">Screenplay Fundamentals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="screenplay-selenium-tasks.html">Web Testing with Screenplay</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="serenity-screenplay-rest.html">REST API Testing with Screenplay</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="serenity-screenplay-ensure.html">Fluent Assertions in Screenplay</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Reporting and Living documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="living-documentation.html">Living Documentation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="filtering-reports.html">Filtering Reports</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extended-reports.html">Additional Reports</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="manual-tests.html">Reporting Manual Test Results</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="jira.html">Integrating with JIRA</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Scaling Serenity</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="serenity-parallel.html">Running Serenity tests in parallel on a local machine</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="serenity-grid.html">Running Serenity tests on a Selenium Grid</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="serenity-parallel-batches.html">Running Serenity tests in parallel batches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="glossary.adoc">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Serenity Book</span>
    <span class="version">2.0.67</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">The Serenity Book</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">2.0.67</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">The Serenity Book</a></li>
    <li class="crumb">Serenity and the Screenplay Pattern</li>
    <li class="crumb"><a href="serenity-screenplay-ensure.html">Fluent Assertions in Screenplay</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/serenity-bdd/the-serenity-book/edit/master/modules/ROOT/pages/serenity-screenplay-ensure.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Screenplay Assertions</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>We have seen how make assertions using the <code>should()</code> method with targets or questions combined with Hamcrest matchers, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">sam.attemptsTo(
  Enter.theValue("40").into(AGE_FIELD).thenHit(Keys.ENTER)
);

sam.should(
    seeThat(the(AGE_FIELD), hasValue("40"))
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the code shown here, the <code>the()</code> method is a static import from the <code>WebElementQuestion</code> class, and the <code>hasValue()</code> is a static import from the <code>WebElementStateMatchers</code> class.
This is quite flexible, as you can add custom matchers quite easily. However, it means you need to know what matchers exist, and which ones can be used in different circumstances.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introducing_serenity_ensure"><a class="anchor" href="#_introducing_serenity_ensure"></a>Introducing Serenity Ensure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recent versions of Serenity Screenplay also provides an alternative approach, which many developers find easier to use and faster to write. This approach uses the <code>Ensure</code> class. The <code>Ensure</code> class produces a <code>Performable</code>, so you can integrate them directly into the <code>attemptsTo()</code> method. It also has a very readable DSL and lets you use code completion to discover the assertions you can use for different values, making writing assertions easier and quicker. An example of code equivalent to the above can be seen here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">sam.attemptsTo(
    Enter.theValue("40").into(AGE_FIELD).thenHit(Keys.ENTER),
    Ensure.that(AGE).text().isEqualTo("40")
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_serenity_ensure_to_your_project"><a class="anchor" href="#_adding_serenity_ensure_to_your_project"></a>Adding Serenity Ensure to your project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Serenity Ensure needs an extra dependency in your build script. For Maven, add the <code>serenity-enusre</code> dependency to your <code>pom.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;
    &lt;artifactId&gt;serenity-ensure&lt;/artifactId&gt;
    &lt;version&gt;${serenity.version}&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in Gradle, you need to add the following dependency:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">testCompile "net.serenity-bdd:serenity-screenplay-webdriver:${serenity.version}"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_your_first_ensure_test"><a class="anchor" href="#_your_first_ensure_test"></a>Your first Ensure test</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A very simple <code>Ensure</code> test can be seen here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Actor aster = Actor.named("Aster");

int age = 20;

aster.attemptsTo(
    Ensure.that(age)                      <i class="conum" data-value="1"></i><b>(1)</b>
              .isEqualTo(20)              <i class="conum" data-value="2"></i><b>(2)</b>
);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Pass the value under test to the <code>Ensure.that(&#8230;&#8203;)</code> method</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add an assertion method</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Almost all <code>Ensure</code> assertions start with the <code>Ensure.that()</code> method (1).
This method takes the value being tested as a parameter (in this case an integer).
Following this comes the actual assertion method (2).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_assertions_about_numbers"><a class="anchor" href="#_assertions_about_numbers"></a>Assertions about numbers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use auto-complete in your IDE to see the range of assertions available.
For integers, longs and floating point numbers, the assertions include:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(age).isEqualTo(18)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(age).isNotEqualTo(65)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isGreaterThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(age).isGreaterThan(18)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isGreaterThanOrEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(age).isGreaterThanOrEqualTo(20)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isLessThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(age).isLessThan(100)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isBetween</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(age).isBetween(18,25)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isStrictlyBetween</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(age).isStrictlyBetween(20,25)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For doubles and floats, you can also use the <code>isCloseTo()</code> assertion:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">float creditScore = 9.8F;

aster.attemptsTo(
    Ensure.that(creditScore).isCloseTo(9.81F, 0.01F)
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_assertions_about_strings"><a class="anchor" href="#_assertions_about_strings"></a>Assertions about Strings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Another common requirement is to make assertions about Strings. An example is shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String name = "Bill";
aster.attemptsTo(
    Ensure.that(name).isEqualToIgnoringCase("BILL")
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other basic comparison assertions about Strings include the following:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(name).isEqualTo("Bill")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(name).isNotEqualTo("Joe")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isGreaterThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(name).isGreaterThan("Alfred")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isGreaterThanOrEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(name).isGreaterThanOrEqualTo("Al")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isLessThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(name).isLessThan("Carrie")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isBetween</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(name).isBetween("Bill","Carrie")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isStrictlyBetween</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(name).isStrictlyBetween("Al",25)</code></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_string_contents"><a class="anchor" href="#_string_contents"></a>String contents</h3>
<div class="paragraph">
<p>The <code>Ensure</code> class also has a number of assertions related to string contents.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String colors = "Red Green Blue";
aster.attemptsTo(
    Ensure.that(colors).contains("Green")
);</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsIgnoringCase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).containsIgnoringCase("RED")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsOnlyDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("123").containsOnlyDigits()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsOnlyLettersOrDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("abc123").containsOnlyLettersOrDigits()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsOnlyLetters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("abc").containsOnlyLetters()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsWhitespaces</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("Red Green").containsWhitespaces()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsOnlyWhitespaces</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("   ").containsOnlyWhitespaces()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startsWith</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).startsWith("Red")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">endsWith</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).endsWith("Blue")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matches</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).matches("Red (.*) Blue")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">doesNotContain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).doesNotContain("cyan")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isBlank()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("  ").isBlank()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotBlank()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).isNotBlank()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isEmpty()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("").isEmpty()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotEmpty()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).isNotEmpty()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isInLowerCase()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("red").isInLowerCase()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isInUpperCase()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("RED").isInUpperCase()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isSubstringOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("Green").isSubstringOf(colors)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_string_size"><a class="anchor" href="#_string_size"></a>String Size</h3>
<div class="paragraph">
<p>There are also some assertions to check the length of the string
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String colors = "Red Green Blue";
aster.attemptsTo(
    Ensure.that(colors).hasSizeGreaterThan(3)
);</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("red").hasSize(3)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeGreaterThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("red").hasSizeGreaterThan(2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeGreaterThanOrEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("red").hasSizeGreaterThanOrEqualTo(3)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeLessThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("red").hasSizeLessThan(4)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeLessThanOrEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("red").hasSizeLessThanOrEqualTo(3)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeBetween</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that("red").hasSizeBetween(1,5)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasLineCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).hasLineCount(1)</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_assertions_using_lambda_expressions"><a class="anchor" href="#_assertions_using_lambda_expressions"></a>Assertions using Lambda expressions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Another useful trick is to use a Java 8 Lambda expression to do the check.
You can use the <code>Ensure.that(&#8230;&#8203;).matches(&#8230;&#8203;)</code> construct to pass in a lambda predicate which will determine whether the <code>Ensure</code> statement should pass or fail.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String actualColor = "green";

aster.attemptsTo(
    Ensure.that(actualColor).matches("is an RGB color",        <i class="conum" data-value="1"></i><b>(1)</b>
                              color -&gt; color.equals("red")     <i class="conum" data-value="2"></i><b>(2)</b>
                                       || color.equals("blue")
                                       || color.equals("green"))
);</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A plain English description of the lambda, which will appear in the reports</p>
</li>
<li>
<p>A predicate that takes the parameter type passed to the <code>Ensure.that()</code> method, and returns a boolean.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_negative_assertions"><a class="anchor" href="#_negative_assertions"></a>Negative assertions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can negate an <code>Ensure.that()</code> statement simply by including the <code>not()</code> method. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String colors = "Red Green Blue";
aster.attemptsTo(
    Ensure.that(colors).not().contains("Cyan")
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_dates_and_times"><a class="anchor" href="#_working_with_dates_and_times"></a>Working with dates and times</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>Ensure</code> class provides a few special methods for dates and times.
For <code>LocalTime</code> variables, we can use <code>Ensure.that(&#8230;&#8203;).isBefore()</code> and <code>Ensure.that(&#8230;&#8203;).isAfter()</code> to compare two times, as we can see here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">LocalTime tenInTheMorning = LocalTime.of(10,0);
LocalTime twoInTheAfternoon = LocalTime.of(14,0);

aster.attemptsTo(
    Ensure.that(tenInTheMorning).isBefore(twoInTheAfternoon)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>For <code>LocalDate</code> variables, we have <code>isBefore()</code> and <code>isAfter()</code>, as well as a number of others,
such as the <code>isDayOfWeek()</code> method illustrated here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">LocalDate firstOfJanuary = LocalDate.of(2000,1,1);

aster.attemptsTo(
    Ensure.that(firstOfJanuary).isDayOfWeek(DayOfWeek.SATURDAY)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other date-related assertions include:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isDayOfWeek</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(firstOfJanuary).isDayOfWeek(SATURDAY)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isDayOfMonth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(firstOfJanuary).isDayOfMonth(1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isInTheMonthOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(firstOfJanuary).isInTheMonthOf(JANUARY)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isTheYear</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(firstOfJanuary).isTheYear(2000)</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_collections"><a class="anchor" href="#_working_with_collections"></a>Working with collections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>Ensure</code> class gives you a range of methods to make assertions about collections.
This can be as simple as checking whether an element appears in a collection:
we can do this using the <code>Ensure.that(&#8230;&#8203;).isIn(&#8230;&#8203;)</code> construct:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">List&lt;String&gt; colors = Arrays.asList("red", "green", "blue");

aster.attemptsTo(
    Ensure.that("red").isIn(colors)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose we had the following lists:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">List&lt;String&gt; sameColors = Arrays.asList("red", "green", "blue");
List&lt;String&gt; differentColors = Arrays.asList("red", "green", "cyan");
List&lt;String&gt; allColors = Arrays.asList("red", "green", "blue","yellow","cyan");
List&lt;String&gt; lastColors = Arrays.asList("yellow","cyan");
List&lt;String&gt; redAndPink = Arrays.asList("red", "pink");
List&lt;String&gt; noColors = Arrays.asList();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here are some examples of other assertion methods using these collections:</p>
</div>
<div class="sect2">
<h3 id="_assertions_about_list_equality_and_size"><a class="anchor" href="#_assertions_about_list_equality_and_size"></a>Assertions about list equality and size</h3>
<div class="paragraph">
<p>The following assertions are useful if you need to check the size of a collection,
or whether it is equivalent to another collection.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isEqualTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).isEqualTo(sameColors)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isEmpty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(noColors).isEmpty()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotEmpty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).isNotEmpty()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).hasSize(3)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeGreaterThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).hasSizeGreaterThan(2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeLessThan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).hasSizeLessThan(4)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSizeBetween</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).hasSizeBetween(2,4)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasSameSizeAs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).hasSameSize(differentColors)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_assertions_about_list_contents"><a class="anchor" href="#_assertions_about_list_contents"></a>Assertions about list contents</h3>
<div class="paragraph">
<p>Often we need to check the contents of a collection.
We can do this using a range of <em>contains</em> assertions, as illustrated here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">List&lt;String&gt; colors = Arrays.asList("red", "green", "blue");

aster.attemptsTo(
    Ensure.that(contains).contains("red")
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some of the other <em>contains</em> assertions are listed in the table below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).contains("red","blue")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsAnyOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).anyOf("red","pink")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).containsOnly("blue","green","red")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsExactly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).containsExactly("red","blue","green")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsExactlyInAnyOrder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).containsExactly("red","blue","green")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">doesNotContain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).doesNotContain("pink")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsElementsFrom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(allColors).containsElementsFrom(colors)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsAnyElementsOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).containsAnyElementsOf(redAndPink)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsExactlyElementsOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).containsExactlyElementsOf(sameColors)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isASubsetOf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).isASubsetOf(allColors)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">doesNotHaveDuplicates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).doesNotHaveDuplicates()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startsWith</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).startsWith("red", "green")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startsWithElementsFrom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(allColors).startsWithElementsFrom(colors)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">endsWith</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(colors).endsWith("green","blue")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">endWithElementsFrom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(allColors).endWithElementsFrom(lastColors)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_matching_list_elements_with_java_8_lambdas"><a class="anchor" href="#_matching_list_elements_with_java_8_lambdas"></a>Matching list elements with Java 8 Lambdas</h3>
<div class="paragraph">
<p>Lambda expressions provide a powerful way of making arbitrary assertions about the contents of a collection.
We can use the <code>Ensure.that(&#8230;&#8203;).allMatch()</code>, <code>Ensure.that(&#8230;&#8203;).anyMatch()</code> and <code>Ensure.that(&#8230;&#8203;).noneMatch()</code> to do this.
For example, the following code asserts that each element in a collection is 4 characters long:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">List&lt;String&gt; colors = ImmutableList.of("blue", "cyan", "pink");

aster.attemptsTo(
    Ensure.that(colors).allMatch("4 characters long",
                                 it -&gt; it.length() == 4)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that when we use a Lambda expression, we need to include a description of the expectation before providing the lambda expression itself.
This description will be used in the reports should the assertion fail.</p>
</div>
<div class="paragraph">
<p>The <em>anyMatch</em> method checks that there exists at least one element in a collection that matches a specified predicate.
An example is shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Test
public void shouldContainAtLeastOnePrimaryColor() {
    Actor aster = Actor.named("Aster");
    List&lt;String&gt; colors = ImmutableList.of("blue", "cyan", "pink");

    aster.attemptsTo(
        Ensure.that(colors).anyMatch("is a primary color",
                                     it -&gt;  isAPrimaryColor(it))
    );
}

private boolean isAPrimaryColor(String color) {
    return  (color == "red")
            || (color == "green")
            || (color == "blue");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>noneMatch</em> method checks that no elements exist in a collection that match a certain condition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">List&lt;String&gt; colors = ImmutableList.of("orange", "cyan", "pink");

aster.attemptsTo(
    Ensure.that(colors).noneMatch("is a primary color",
                                  it -&gt;  isAPrimaryColor(it))
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also check for specific numbers of elements, using <code>atLeast</code>, <code>noMoreThan</code>, and <code>exactly</code>.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">List&lt;String&gt; colors = ImmutableList.of("blue", "cyan", "red","pink");

aster.attemptsTo(
    Ensure.that(colors).atLeast(2, "is a primary color",
                                it -&gt;  isAPrimaryColor(it))
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_named_expectations"><a class="anchor" href="#_using_named_expectations"></a>Using Named Expectations</h3>
<div class="paragraph">
<p>If you have commonly used predicates in your test code, you can use the <code>NamedException</code> to make your code more concise.
For example, here we define a <code>NamedException</code> that matches primary colors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private static final  NamedExpectation&lt;String&gt; IS_A_PRIMARY_COLOR
        = new NamedExpectation&lt;&gt;("is a primary color",
                               color -&gt; (color.equals("red"))
                                        || (color.equals("green"))
                                        || (color.equals("blue")));</code></pre>
</div>
</div>
<div class="paragraph">
<p>We could use this in the <code>Ensure.that()</code> method like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(colors).anyMatch(IS_A_PRIMARY_COLOR)
);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_web_elements"><a class="anchor" href="#_working_with_web_elements"></a>Working with web elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When writing UI tests, we need to make assertions about the state of elements on a web page.
The <code>Ensure</code> class makes this an easy task.</p>
</div>
<div class="paragraph">
<p>We can make assertions about <code>Target</code> elements directly using the <code>Ensure.that()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Target FIRST_NAME = Target.the("First name field").locatedBy("#firstName")

aster.attemptsTo(
    Ensure.that(FIRST_NAME).value().isEqualTo("Joe"),
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A more flexible approach is to use the <code>ElementLocated</code> class to identify an element.
We can also locate elements using <code>By</code> locators or CSS/XPath strings.
The following code uses the <code>Ensure.that()</code> and <code>ElementLocated.by()</code> methods to check
whether the element located by the CSS selector "#firstName" is displayed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(ElementLocated.by("#firstName")).isDisplayed(),
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ElementLocated.by()</code> will work with <code>By</code> locators, XPath/CSS strings or <code>Target</code> elements,
which means that you can easily decouple your locator strategy from your assertions.</p>
</div>
<div class="sect2">
<h3 id="_simple_web_element_assertions"><a class="anchor" href="#_simple_web_element_assertions"></a>Simple web element assertions</h3>
<div class="paragraph">
<p>The most simple assertions about web elements are boolean checks about the state of the element.
The <code>Ensure.that(&#8230;&#8203;).is&#8230;&#8203;</code> assertions let you make assertions about whether an element
is displayed or disabled.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isDisplayed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(FIRST_NAME).isDisplayed()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isDisabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(FIRST_NAME).isDisabled()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(FIRST_NAME).isEnabled()</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_checking_text_content_and_field_values"><a class="anchor" href="#_checking_text_content_and_field_values"></a>Checking text content and field values</h3>
<div class="paragraph">
<p>Checking field values and text content is the bread-and-butter of many web tests.
You can use <code>Ensure.that(&#8230;&#8203;).value()</code> to read the value attribute of a field, as shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(FIRST_NAME).value().startsWith("Joe"),
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Ensure.that(&#8230;&#8203;).text()</code> method lets you read the text of the element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(SEARCH_RESULTS_SUMMARY)
          .text()
          .endsWith("results for 'Serenity'"),
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also read the text contents of an element using <code>Ensure.that(&#8230;&#8203;).textContent()</code>.
The text content is the value of the <code>textContent</code> CSS attribute.</p>
</div>
<div class="paragraph">
<p>This value is available even when an element is not visible,
making it useful in cases where you need to read a full set of values, even those not currently visible on the page.</p>
</div>
<div class="paragraph">
<p>The most important <code>Ensure.that(&#8230;&#8203;)</code> methods for web elements include the following:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(FIRST_NAME).value().isEqualTo("Joe")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(DESCRIPTION).text().isNotEmpty()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">textContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(DESCRIPTION).textContent().isNotEmpty()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(FIRST_NAME).attribute("title").isEqualTo("First name")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectedValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(COLORS).selectedValue().isEqualTo("green")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selectedVisibleText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(COLORS).selectedVisibleText().isEqualTo("Green")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasCssClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(COLORS).hasCssClass("color-list")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsElements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(RESULT_LIST).containsElements(".result-details")</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>All of these methods allow you to make all of the String assertions we saw earlier.</p>
</div>
</div>
<div class="sect2">
<h3 id="_converting_values_to_different_types"><a class="anchor" href="#_converting_values_to_different_types"></a>Converting values to different types</h3>
<div class="paragraph">
<p>Sometimes it is useful to be able to make assertions about non-String types.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(ElementLocated.by("#itemCount"))
          .value()
          .asAnInteger()
          .isGreaterThanOrEqualTo(2)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The main conversion methods include:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asAnInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(ITEM_COUNT).value().asAnInteger().isEqualTo(2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asADouble</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(TOTAL_COST).value().asADouble().isEqualTo(99.99d)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asAFloat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(TOTAL_COST).value().asAFloat().isCloseTo(99.99f,0.01f)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asABigDecimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(TOTAL_COST).value().asABigDecimal().isEqualTo(new BigDecimal("99.99"))</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asADate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(CURRENT_DATE).value().asADate().isEqualTo(expectedLocalDate)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asATime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(CURRENT_TIME).value().asATime().isEqualTo(expectedLocalTime)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asABoolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.that(SOME_FLAG).value().asABoolean().isTrue()</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If a date or time value uses as non-standard format, we can pass a format string to the <code>asADate()</code> or <code>asATime()</code> methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(ElementLocated.by("#currentDate"))
          .value()
          .asADate("dd-MM-yyyy")
          .isBefore(dateLimit)
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_making_assertions_about_collections_of_web_elements"><a class="anchor" href="#_making_assertions_about_collections_of_web_elements"></a>Making assertions about collections of web elements</h3>
<div class="paragraph">
<p>You can make assertions about multiple values, for example, all the titles of a list of search results.</p>
</div>
<div class="paragraph">
<p>One way to do this is to use the <code>Ensure.thatTheSetOf()</code> method (or its synonym, <code>Ensure.thatAmongst()</code>).
This method takes a <code>Target</code> or a locator, and lets you apply the</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
        Ensure.thatTheSetOf(ElementsLocated.by(".train-line"))
              .hasSizeGreaterThan(5)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can also use static methods defined in <code>TheMatchingElement</code> to perform commonly used checks on web elements, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
        Ensure.thatTheSetOf(ElementsLocated.by(".train-line"))
              .allMatch(TheMatchingElement.containsText("Line"))
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The main methods defined in the <code>TheMatchingElement</code> class include:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assertion</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isDisplayed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(RESULTS).allMatch(isDisplayed())</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotDisplayed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(RESULTS).noneMatch(isNotDisplayed())</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isDisabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isDisabled())</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotDisabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isNotDisabled())</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isEnabled())</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNotEnabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isNotEnabled())</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasCssClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(RESULTS).noMoreThan(1, hasCssClass("selected"))</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hasValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(RESULTS).anyMatch(hasValue("red"))</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(RESULTS).anyMatch(containsText("Red"))</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsOnlyText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(RESULTS).anyMatch(containsOnlyText("Red Car"))</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containsElementsLocatedBy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ensure.thatTheSetOf(RESULTS).anyMatch(containsElementsLocatedBy(".model"))</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We can also make assertions about collections of matching values or the text contents of matching elements.
We can do this using the <code>Ensure.that(&#8230;&#8203;).values()</code>, <code>Ensure.that(&#8230;&#8203;).textValues()</code> and <code>Ensure.that(&#8230;&#8203;).textContentValues()</code>.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(ElementLocated.by("#colors option"))
          .values()
          .contains("red","blue","green")
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_waiting_for_elements_and_defining_timeouts"><a class="anchor" href="#_waiting_for_elements_and_defining_timeouts"></a>Waiting for elements and defining timeouts</h3>
<div class="paragraph">
<p>When working with asynchronous web applications, an element may not be immediately ready when a test interacts with it.
By default, Serenity will wait for 5 seconds for an element to be present.
Using the <code>Ensure</code> class, we can fine-tune the amount of time we need to wait for an element to become available.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Target SLOW_FIELD = Target.the("Slow field")
                          .locatedBy("#slow")

aster.attemptsTo(
        Ensure.that(SLOW_FIELD
                    .waitingForNoMoreThan(Duration.ofSeconds(10)))
              .value()
              .isEqualTo("Marseille")
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can also build a delay into a <code>Target</code> field, if the same delay should be applied everywhere the element is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Target SLOW_FIELD = Target.the("Slow field")
                      .locatedBy("#slow")
                      .waitingForNoMoreThan(Duration.ofSeconds(5))</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_making_assertions_about_the_current_page"><a class="anchor" href="#_making_assertions_about_the_current_page"></a>Making assertions about the current page</h3>
<div class="paragraph">
<p>There are also some <code>Ensure</code> methods that allow us to make basic assertions about the page itself.
For example, you can check the page title like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
        Ensure.thatTheCurrentPage().title().isEqualTo("Some Title")
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Page-level assertions also include <code>currentUrl()</code>, <code>pageSource()</code> and <code>windowHandle()</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_screenplay_questions"><a class="anchor" href="#_working_with_screenplay_questions"></a>Working with Screenplay Questions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far we have been using the <code>Ensure.that*</code> methods with web page locators and with field values.
We can also use <code>Ensure.that*</code> methods with arbitrary Screenplay questions.
This can be used to write custom <code>Question</code> classes or methods that query the state of the application
without using the UI, or which do more tailored queries of the UI.</p>
</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public Question&lt;Integer&gt; countOf(String todoItem) {
    return Question.about("todo status").answeredBy(
            actor -&gt; // return some value related to a particular todo item
    );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We could then use the <code>Ensure.thatTheAnswerTo()</code>  method to check the result of this question:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
        Ensure.thatTheAnswerTo("the count",
                               countOf("some-todo-item"))
              .isEqualTo(1)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can also work with <code>Question</code> classes that return collections, using the <code>Ensure.thatTheAnswersTo()</code> method.
Suppose we had a Question that returned a list of Strings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Question&lt;Collection&lt;String&gt;&gt; colors() {
    return Question.about("colors").answeredBy(
            actor -&gt; // returns "red","green","blue"
    );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We could then use the <code>Ensure.thatTheAnswersTo()</code> method to make an assertion about this question:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
        Ensure.thatTheAnswersTo(colors()).contains("red")
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reporting_and_hiding_ensure_steps"><a class="anchor" href="#_reporting_and_hiding_ensure_steps"></a>Reporting and hiding Ensure steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each <code>Ensure</code> performable will be reported in the Serenity report as a separate step, including a short description of the expectation.
Sometimes, however, we want to use the <code>Ensure</code> statement as a way to make sure the application is ready to continue the tests.
In these cases, we may prefer to leave the <code>Ensure</code> statement out of the reports.</p>
</div>
<div class="paragraph">
<p>We can do this using the <code>silently()</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">aster.attemptsTo(
    Ensure.that(ElementLocated.by("#firstName"))
          .silently()
          .isDisplayed()
);</code></pre>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
